## General enumeration:
```bash
nmap -p139,445 --script smb-* $ip 
enum4linux -a $ip
```
## Get version:
```bash
msf> use auxiliary/scanner/smb/smb_version
``` 
## List Shares
```bash
smbmap -H $ip -d <domain> -u <user> -p <password>
smbclient -L \\$ip -N
```

## Connecting to a share:

### Anonymously 
```bash
smbclient //$ip/share -N
```

### Authenticated 
```bash
smbclient //$ip/share -U <username>
```